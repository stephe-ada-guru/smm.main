\input texinfo
@c Author : Stephen Leake stephen_leake@stephe-leake.org

@setfilename smm.info
@settitle Stephe's Music Manager

@setchapternewpage off

@node Top, Quick Start Example, (dir), (dir)
@top SMM

Stephe's Music Manager (SMM) is a command line tool for building
playlists that cycle thru a music collection, with some
randomization. It also manages copying playlists to a small music
player.

SMM maintains a database of music metadata. The metadata for each
title consists of the last time the title was included in a playlist,
and a category. The category is just a string; the default is
``vocal''. All music in a playlist is from the same category.

Each time a playlist is created, it contains music that was least
recently heard. The order is randomized a bit, so the playlists don't
repeat exactly.

@menu
* Quick Start Example::
* Categories::
* Managed portable playlists::
* Tivo::
@end menu

@node Quick Start Example, Categories, Top, Top
@section Quick Start Example

@enumerate
@item
Define the location for the database and default playlists. On Unix,
this defaults to @file{~/.smm}; on Windows, to @file{C:\Documents and
Settings\<user name>\Application Data\smm}.

You can override this by defining the environment variable
@code{SMM_HOME}, or by specifying @code{--db=<db_file>} on each
@code{smm} command. In the rest of this manual, we will refer to this
location as @file{$SMM_HOME}.

@item
Create the metadata database. This example assumes your music is
stored in @code{c:/Music}:

@example
smm import vocal c:/Music
@end example

On Windows, music will typically be stored in @file{C:\Documents and
Settings\user name\My Documents\My Music}. For the @code{import}
command, you must specify this path, enclosed in quotes:

@example
smm import vocal "C:\Documents and Settings\user name\My Documents\My Music"
@end example

This assigns all titles to the @code{vocal} category. @xref{Categories}, to change that.

@item
Create a playlist on your computer:

@example
smm playlist vocal
@end example

The playlist is created in @file{$SMM_HOME/vocal.m3u}. The paths in
the playlist are absolute.

@item
Play the playlist from your favorite music player app, by opening the
playlist file.

On Windows from the DOS command line, this can be done by:

@example
start %APPDATA%\smm\vocal.m3u
@end example

As each song is played, delete it from the playlist, either via your
music player app, or using a text editor.

@item
Add more music to the playlist:

@example
smm playlist vocal
@end example

Note that this is the same command that created the playlist; it just
appends more titles.

@item
Create a playlist on a portable device. The device must appear as a
disk, for example @file{e:/}:

@example
smm download vocal e:/music
@end example

This creates a playlist @file{e:/music/vocal.m3u}, and copies the
music files to @file{e:/music/vocal/*}.

If you use both main computer playlists and portable playlists, they
will not have the same titles; the assumption is that you are
listening to both (say one at home and one in the car), but still want
to cycle thru all your music.

@item
Import a new album, for example ``Celtic Meditations'' by Maggie Sansone:

@example
smm import instrumental "c:/music/Maggie Sansone/Celtic Meditations"
@end example

Note that you can specify different categories for each import.

@item
Type @code{smm} with no arguments for a description of the commands.

@end enumerate

@node Categories, Managed portable playlists, Quick Start Example, Top
@section Categories

The only way to change the category for a title is to manually edit
the database file. The file is stored in a simple readable format, and
can be edited with any text editor (not Microsoft Word or similar
document editor; Microsoft WordPad is ok).

To avoid editing the database file, you can import each album
separately, specifying a category. To do this, you must first create
an empty database file, to specify the root music directory. Using a
text editor, create the file @file{$SMM_HOME/smm.db}, containing a
single line:

@example
Root = C:/Music/
@end example

Use forward slashes to specify the directory path, even on Windows.

Then use @code{import} commands for each album, specifying the proper
category.

@node Managed portable playlists, Tivo, Categories, Top
@section Managed portable playlists

If your portable music player lets you delete songs from a playlist as
they are played, you can use the @code{download_playlist} command to
update the portable playlist:

@example
smm download_playlist vocal e:/Music
@end example

This first deletes music files from the portable disk that are no
longer in the playlist, then downloads 30 more titles, if the
remaining amount is less than 30 titles.

@node Tivo,  , Managed portable playlists, Top
@section Tivo

A Tivo DVR can play playlists from your computer. The playlists must
be relative to the music root directory. To create such playlists, you
can either set @code{SMM_HOME} to the music root directory, or specify
the playlist location on the command line:

@example
smm playlist vocal c:/Music/vocal.m3u
@end example

@bye
