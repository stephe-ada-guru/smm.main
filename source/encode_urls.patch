diff -u -r aws-2020-20200429-19A9F-src-orig/src/core/aws-client.adb aws-2020-20200429-19A9F-src/src/core/aws-client.adb
--- aws-2020-20200429-19A9F-src-orig/src/core/aws-client.adb	2020-03-04 22:07:10.000000000 -0800
+++ aws-2020-20200429-19A9F-src/src/core/aws-client.adb	2020-09-29 15:10:52.109776100 -0700
@@ -156,7 +156,8 @@
    is
       use type Net.SSL.Config;
 
-      Host_URL    : constant AWS.URL.Object := AWS.URL.Parse (Host);
+      Host_URL    : constant AWS.URL.Object := AWS.URL.Parse
+        (Host, Decode => False);
       Proxy_URL   : constant AWS.URL.Object := AWS.URL.Parse (Proxy);
       Connect_URL : AWS.URL.Object;
    begin
diff -u -r aws-2020-20200429-19A9F-src-orig/src/core/aws-url.adb aws-2020-20200429-19A9F-src/src/core/aws-url.adb
--- aws-2020-20200429-19A9F-src-orig/src/core/aws-url.adb	2020-02-27 22:22:44.000000000 -0800
+++ aws-2020-20200429-19A9F-src/src/core/aws-url.adb	2020-09-29 15:20:00.486346900 -0700
@@ -321,11 +321,12 @@
    function Parse
       (URL            : String;
        Check_Validity : Boolean := True;
-       Normalize      : Boolean := False) return Object
+       Normalize      : Boolean := False;
+       Decode         : Boolean := True) return Object
    is
       O : Object;
    begin
-      Set.Parse (O, URL, Check_Validity, Normalize);
+      Set.Parse (O, URL, Check_Validity, Normalize, Decode);
 
       return O;
    end Parse;
diff -u -r aws-2020-20200429-19A9F-src-orig/src/core/aws-url.ads aws-2020-20200429-19A9F-src/src/core/aws-url.ads
--- aws-2020-20200429-19A9F-src-orig/src/core/aws-url.ads	2020-02-27 22:22:44.000000000 -0800
+++ aws-2020-20200429-19A9F-src/src/core/aws-url.ads	2020-09-29 15:18:25.000236800 -0700
@@ -68,7 +68,8 @@
    function Parse
      (URL            : String;
       Check_Validity : Boolean := True;
-      Normalize      : Boolean := False) return Object;
+      Normalize      : Boolean := False;
+      Decode         : Boolean := True) return Object;
    --  Parse an URL and return an Object representing this URL. It is then
    --  possible to extract each part of the URL with the services bellow.
    --  Raises URL_Error if Check_Validity is true and the URL reference a
diff -u -r aws-2020-20200429-19A9F-src-orig/src/core/aws-url-set.adb aws-2020-20200429-19A9F-src/src/core/aws-url-set.adb
--- aws-2020-20200429-19A9F-src-orig/src/core/aws-url-set.adb	2020-02-27 22:22:44.000000000 -0800
+++ aws-2020-20200429-19A9F-src/src/core/aws-url-set.adb	2020-09-29 15:10:52.109776100 -0700
@@ -156,9 +156,10 @@
 
    procedure Parse
      (Item           : in out Object;
-      URL            : String;
-      Check_Validity : Boolean := True;
-      Normalize      : Boolean := False)
+      URL            :        String;
+      Check_Validity :        Boolean := True;
+      Normalize      :        Boolean := False;
+      Decode         :        Boolean := True)
    is
       FTP_Token   : constant String := "ftp:";
       HTTP_Token  : constant String := "http:";
@@ -175,6 +176,8 @@
       function "+" (S : String) return Unbounded_String
          renames To_Unbounded_String;
 
+      function Maybe_Decode (Item : String) return String;
+
       procedure Parse (URL : String);
       --  Parse URL, the URL must not contain the HTTP_Token prefix.
       --  If a hostname is specified, the URL should start with "//"
@@ -183,6 +186,19 @@
       --  Parse the protocol part of the URL and return it. Return an empty
       --  string if not found.
 
+      ------------------
+      -- Maybe_Decode --
+      ------------------
+
+      function Maybe_Decode (Item : String) return String
+      is begin
+         if Decode then
+            return AWS.URL.Decode (Item);
+         else
+            return Item;
+         end if;
+      end Maybe_Decode;
+
       -----------
       -- Parse --
       -----------
@@ -206,7 +222,7 @@
          ---------------------
 
          procedure Parse_Path_File (Start : Positive) is
-            PF : constant String := Decode (URL (Start .. URL'Last));
+            PF : constant String := Maybe_Decode (URL (Start .. URL'Last));
             I3 : constant Natural :=
                    Strings.Fixed.Index (PF, "/", Strings.Backward);
          begin
@@ -421,7 +437,7 @@
          Item.Fragment := Null_Unbounded_String;
 
       else
-         Item.Fragment := +Decode (L_URL (F .. L_URL'Last));
+         Item.Fragment := +Maybe_Decode (L_URL (F .. L_URL'Last));
          F := F - 1;
       end if;
 
@@ -433,6 +449,7 @@
          P := F;
 
       else
+         --  Add looks for the rest of the '?', so we can't decode here.
          Item.Parameters.Add (L_URL (P .. F));
          P := P - 1;
       end if;
@@ -441,17 +458,17 @@
 
       if Utils.Match (L_URL (L_URL'First .. P), HTTP_Token) then
          Item.Port := Default_HTTP_Port;
-         Parse (L_URL (L_URL'First + HTTP_Token'Length .. P));
+         Parse (Maybe_Decode (L_URL (L_URL'First + HTTP_Token'Length .. P)));
 
       elsif Utils.Match (L_URL (L_URL'First .. P), HTTPS_Token) then
          Item.Port := Default_HTTPS_Port;
-         Parse (L_URL (L_URL'First + HTTPS_Token'Length .. P));
+         Parse (Maybe_Decode (L_URL (L_URL'First + HTTPS_Token'Length .. P)));
          Item.Protocol := HTTPS;
 
       elsif Utils.Match (L_URL (L_URL'First .. P), WS_Token) then
          --  Initial handshake is via http
          Item.Port := Default_HTTP_Port;
-         Parse (L_URL (L_URL'First + WS_Token'Length .. P));
+         Parse (Maybe_Decode (L_URL (L_URL'First + WS_Token'Length .. P)));
          Item.Protocol := HTTP;
 
       elsif Utils.Match (L_URL (L_URL'First .. P), WSS_Token) then
@@ -474,11 +491,12 @@
 
          if Scheme /= Null_Unbounded_String then
             Item.Protocol := Scheme;
-            Parse (L_URL (L_URL'First + Length (Scheme) + 1 .. P));
+            Parse
+              (Maybe_Decode (L_URL (L_URL'First + Length (Scheme) + 1 .. P)));
 
          else
             Item.Protocol := Null_Unbounded_String;
-            Parse (L_URL (L_URL'First .. P));
+            Parse (Maybe_Decode (L_URL (L_URL'First .. P)));
          end if;
 
       else
diff -u -r aws-2020-20200429-19A9F-src-orig/src/core/aws-url-set.ads aws-2020-20200429-19A9F-src/src/core/aws-url-set.ads
--- aws-2020-20200429-19A9F-src-orig/src/core/aws-url-set.ads	2020-02-27 22:22:44.000000000 -0800
+++ aws-2020-20200429-19A9F-src/src/core/aws-url-set.ads	2020-09-29 15:15:19.043108100 -0700
@@ -58,6 +58,7 @@
      (Item           : in out Object;
       URL            : String;
       Check_Validity : Boolean := True;
-      Normalize      : Boolean := False);
+      Normalize      : Boolean := False;
+      Decode         : Boolean := True);
 
 end AWS.URL.Set;
